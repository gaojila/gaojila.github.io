<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>PromQLå¸¸ç”¨å‡½æ•° - å“¥æ–¯æ‹‰çš„å°ç«™</title><meta name=Description content><meta property="og:title" content="PromQLå¸¸ç”¨å‡½æ•°"><meta property="og:description" content="PromQL å¸¸ç”¨å‡½æ•° abs() abs(v instant-vector)è¿”å›è¾“å…¥å‘é‡ï¼Œæ‰€æœ‰æ ·æœ¬å€¼éƒ½è½¬æ¢ä¸ºå…¶ç»å¯¹å€¼ã€‚ absent() absent(v instant-vector)å¦‚æœä¼ é€’ç»™å®ƒçš„å‘é‡å…·"><meta property="og:type" content="article"><meta property="og:url" content="https://gaojila.github.io/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/"><meta property="og:image" content="https://gaojila.github.io/logo.png"><meta property="article:published_time" content="2020-08-31T11:43:38+08:00"><meta property="article:modified_time" content="2020-08-31T11:43:38+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://gaojila.github.io/logo.png"><meta name=twitter:title content="PromQLå¸¸ç”¨å‡½æ•°"><meta name=twitter:description content="PromQL å¸¸ç”¨å‡½æ•° abs() abs(v instant-vector)è¿”å›è¾“å…¥å‘é‡ï¼Œæ‰€æœ‰æ ·æœ¬å€¼éƒ½è½¬æ¢ä¸ºå…¶ç»å¯¹å€¼ã€‚ absent() absent(v instant-vector)å¦‚æœä¼ é€’ç»™å®ƒçš„å‘é‡å…·"><meta name=application-name content="å“¥æ–¯æ‹‰çš„å°ç«™"><meta name=apple-mobile-web-app-title content="å“¥æ–¯æ‹‰çš„å°ç«™"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://gaojila.github.io/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/><link rel=prev href=https://gaojila.github.io/cka2.kubectl-logs/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"PromQLå¸¸ç”¨å‡½æ•°","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/gaojila.github.io\/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0\/"},"image":["https:\/\/gaojila.github.io\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"PromQL","wordcount":3519,"url":"https:\/\/gaojila.github.io\/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0\/","datePublished":"2020-08-31T11:43:38+08:00","dateModified":"2020-08-31T11:43:38+08:00","license":"This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher":{"@type":"Organization","name":"Gojila","logo":"https:\/\/gaojila.github.io\/images\/avatar.png"},"author":{"@type":"Person","name":"Gojila"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('auto'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'auto'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=å“¥æ–¯æ‹‰çš„å°ç«™><span class=header-title-pre>ğŸ˜</span><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ‰€æœ‰æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>åˆ†ç±» </a><a class=menu-item href=/about/>å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span></span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=å“¥æ–¯æ‹‰çš„å°ç«™><span class=header-title-pre>ğŸ˜</span><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=/posts/>æ‰€æœ‰æ–‡ç« </a><a class=menu-item href=/tags/>æ ‡ç­¾</a><a class=menu-item href=/categories/>åˆ†ç±»</a><a class=menu-item href=/about/>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animated flipInX">PromQLå¸¸ç”¨å‡½æ•°</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw"></i>Gojila</a></span>&nbsp;<span class=post-category>æ”¶å½•äº <a href=/categories/prometheus/><i class="far fa-folder fa-fw"></i>Prometheus</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-08-31>2020-08-31</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;çº¦ 3519 å­—&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;é¢„è®¡é˜…è¯» 8 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#abs>abs()</a></li><li><a href=#absent>absent()</a></li><li><a href=#ceil>ceil()</a></li><li><a href=#changes>changes()</a></li><li><a href=#clamp_max>clamp_max()</a></li><li><a href=#clamp_min>clamp_min()</a></li><li><a href=#day_of_month>day_of_month()</a></li><li><a href=#day_of_week>day_of_week()</a></li><li><a href=#days_in_month>days_in_month()</a></li><li><a href=#hour>hour()</a></li><li><a href=#minute>minute()</a></li><li><a href=#month>month()</a></li><li><a href=#year>year()</a></li><li><a href=#time>time()</a></li><li><a href=#timestamp>timestamp()</a></li><li><a href=#delta>delta()</a></li><li><a href=#idelta>idelta()</a></li><li><a href=#deriv>deriv()</a></li><li><a href=#floor>floor()</a></li><li><a href=#histogram_quantile>histogram_quantile()</a></li><li><a href=#holt_winters>holt_winters()</a></li><li><a href=#increase>increase()</a></li><li><a href=#exp>exp()</a></li><li><a href=#ln>ln()</a></li><li><a href=#log2>log2()</a></li><li><a href=#log10>log10()</a></li><li><a href=#sqrt>sqrt()</a></li><li><a href=#predict_linear>predict_linear()</a></li><li><a href=#rate>rate()</a></li><li><a href=#irate>irate()</a></li><li><a href=#resets>resets()</a></li><li><a href=#round>round()</a></li><li><a href=#scalar>scalar()</a></li><li><a href=#sort>sort()</a></li><li><a href=#sort_desc>sort_desc()</a></li><li><a href=#vector>vector()</a></li><li><a href=#aggregation_over_time><aggregation>_over_time()</a></li></ul></nav></div></div><div class=content id=content><h1 id=promql-å¸¸ç”¨å‡½æ•°>PromQL å¸¸ç”¨å‡½æ•°</h1><h2 id=abs>abs()</h2><p><code>abs(v instant-vector)</code>è¿”å›è¾“å…¥å‘é‡ï¼Œæ‰€æœ‰æ ·æœ¬å€¼éƒ½è½¬æ¢ä¸ºå…¶<strong>ç»å¯¹å€¼</strong>ã€‚</p><h2 id=absent>absent()</h2><p><br><code>absent(v instant-vector)</code>å¦‚æœä¼ é€’ç»™å®ƒçš„å‘é‡å…·æœ‰ä»»ä½•å…ƒç´ ï¼Œåˆ™è¿”å›ç©ºå‘é‡;å¦‚æœä¼ é€’ç»™å®ƒçš„å‘é‡æ²¡æœ‰å…ƒç´ ï¼Œåˆ™è¿”å›å€¼ä¸º 1 çš„ 1 å…ƒç´ å‘é‡ã€‚</br><br>è¿™å¯¹äºåœ¨ç»™å®šåº¦é‡æ ‡å‡†åç§°å’Œæ ‡ç­¾ç»„åˆä¸å­˜åœ¨æ—¶é—´åºåˆ—æ—¶å‘å‡ºè­¦æŠ¥éå¸¸æœ‰ç”¨ã€‚</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>absent<span class=o>(</span>nonexistent<span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>&#34;myjob&#34;</span><span class=o>})</span>
<span class=c1># =&gt; {job=&#34;myjob&#34;}</span>
absent<span class=o>(</span>nonexistent<span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>&#34;myjob&#34;</span>, <span class=nv>instance</span><span class=o>=</span>~<span class=s2>&#34;.*&#34;</span><span class=o>})</span>
<span class=c1># =&gt; {job=&#34;myjob&#34;}</span>
absent<span class=o>(</span>sum<span class=o>(</span>nonexistent<span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>&#34;myjob&#34;</span><span class=o>}))</span>
<span class=c1># =&gt; {}</span>
</code></pre></td></tr></table></div></div><p><br>ç¬¬åœ¨äºŒä¸ªä¾‹å­ä¸­ï¼Œabsent()è¯•å›¾ä»è¾“å…¥å‘é‡ä¸­å¯¼å‡º 1 å…ƒç´ è¾“å‡ºå‘é‡çš„æ ‡ç­¾ã€‚</br></p><h2 id=ceil>ceil()</h2><p><br><code>ceil(v instant-vector)</code> å°† v ä¸­æ‰€æœ‰å…ƒç´ çš„æ ·æœ¬å€¼èˆå…¥åˆ°æœ€æ¥è¿‘çš„æ•´æ•°ã€‚</br></p><h2 id=changes>changes()</h2><p><br>å¯¹äºæ¯ä¸ªè¾“å…¥æ—¶é—´ç³»åˆ—ï¼Œ<code>changes(v range-vector)</code> å°†è¿”å›å…¶å€¼åœ¨æ‰€æä¾›çš„æ—¶é—´èŒƒå›´å†…æ›´æ”¹çš„æ¬¡æ•°ä½œä¸ºå³æ—¶å‘é‡ã€‚</br></p><h2 id=clamp_max>clamp_max()</h2><p><br><code>clamp_max(v instant-vector, max scalar)</code>é’³åˆ¶ v ä¸­æ‰€æœ‰å…ƒç´ çš„æ ·æœ¬å€¼ï¼Œä½¿å…¶ä¸Šé™ä¸º maxã€‚</br></p><h2 id=clamp_min>clamp_min()</h2><p><br><code>clamp_min(v instant-vector, min scalar)</code>é’³åˆ¶ v ä¸­æ‰€æœ‰å…ƒç´ çš„æ ·æœ¬å€¼ï¼Œä½¿å…¶ä¸‹é™ä¸º minã€‚</br></p><h2 id=day_of_month>day_of_month()</h2><p><br><code>day_of_month(v=vector(time()) instant-vector)</code>è¿”å› UTC ä¸­æ¯ä¸ªç»™å®šæ—¶é—´çš„æœˆä¸­çš„æŸå¤©ã€‚ è¿”å›å€¼ä¸º 1 åˆ° 31ã€‚</br></p><h2 id=day_of_week>day_of_week()</h2><p><br><code>day_of_week(v=vector(time()) instant-vector)</code>è¿”å› UTC ä¸­æ¯ä¸ªç»™å®šæ—¶é—´çš„æ˜ŸæœŸå‡ ã€‚ è¿”å›å€¼ä¸º 0 åˆ° 6ï¼Œå…¶ä¸­ 0 è¡¨ç¤ºæ˜ŸæœŸæ—¥ç­‰ã€‚</br></p><h2 id=days_in_month>days_in_month()</h2><p><br><code>days_in_month(v=vector(time()) instant-vector)</code>è¿”å› UTC ä¸­æ¯ä¸ªç»™å®šæ—¶é—´çš„æœˆä¸­å¤©æ•°ã€‚ è¿”å›å€¼ä¸º 28 åˆ° 31ã€‚</br></p><h2 id=hour>hour()</h2><p><br><code>hour(v=vector(time()) instant-vector)</code>è¿”å› UTC ä¸­æ¯ä¸ªç»™å®šæ—¶é—´çš„ä¸€å¤©ä¸­çš„å°æ—¶ã€‚ è¿”å›å€¼ä¸º 0 åˆ° 23ã€‚</br></p><h2 id=minute>minute()</h2><p><br><code>minute(v=vector(time()) instant-vector)</code>ä»¥ UTC ä¸ºå•ä½è¿”å›æ¯ä¸ªç»™å®šæ—¶é—´çš„åˆ†é’Ÿã€‚ è¿”å›å€¼ä¸º 0 åˆ° 59ã€‚</br></p><h2 id=month>month()</h2><p><br><code>month(v=vector(time()) instant-vector)</code>è¿”å› UTC ä¸­æ¯ä¸ªç»™å®šæ—¶é—´çš„ä¸€å¹´ä¸­çš„æœˆä»½ã€‚ è¿”å›å€¼ä¸º 2 åˆ° 12ï¼Œå…¶ä¸­ 1 è¡¨ç¤º 1 æœˆç­‰ã€‚</br></p><h2 id=year>year()</h2><p><br><code>year(v=vector(time()) instant-vector)</code>ä»¥ UTC æ ¼å¼è¿”å›æ¯ä¸ªç»™å®šæ—¶é—´çš„å¹´ä»½ã€‚</br></p><h2 id=time>time()</h2><p><br><code>time()</code>è¿”å›è‡ª 1970 å¹´ 1 æœˆ 1 æ—¥ UTC ä»¥æ¥çš„ç§’æ•°ã€‚ è¯·æ³¨æ„ï¼Œè¿™å®é™…ä¸Šå¹¶ä¸è¿”å›å½“å‰æ—¶é—´ï¼Œè€Œæ˜¯è¿”å›è®¡ç®—è¡¨è¾¾å¼çš„æ—¶é—´ã€‚</br></p><h2 id=timestamp>timestamp()</h2><p><br><code>timestamp(v instant-vector)</code>è¿”å›ç»™å®šå‘é‡çš„æ¯ä¸ªæ ·æœ¬çš„æ—¶é—´æˆ³ï¼Œä½œä¸ºè‡ª 1970 å¹´ 1 æœˆ 1 æ—¥ UTC ä»¥æ¥çš„ç§’æ•°ã€‚</br></p><h2 id=delta>delta()</h2><p><br><code>delta(v range-vector)</code>è®¡ç®—èŒƒå›´å‘é‡ v ä¸­æ¯ä¸ªæ—¶é—´ç³»åˆ—å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå€¼ä¹‹é—´çš„å·®å€¼ï¼Œè¿”å›å…·æœ‰ç»™å®šå¢é‡å’Œç­‰æ•ˆæ ‡ç­¾çš„å³æ—¶å‘é‡ã€‚</br><br><code>delta</code> è¢«å¤–æ¨ä»¥è¦†ç›–èŒƒå›´å‘é‡é€‰æ‹©å™¨ä¸­æŒ‡å®šçš„å…¨æ—¶é—´èŒƒå›´ï¼Œå› æ­¤å³ä½¿æ ·æœ¬å€¼éƒ½æ˜¯æ•´æ•°ï¼Œä¹Ÿå¯ä»¥è·å¾—éæ•´æ•°ç»“æœã€‚delta åº”ä»…ç”¨äºä»ªè¡¨ã€‚</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-fallback data-lang=fallback>ä»¥ä¸‹ç¤ºä¾‹è¡¨è¾¾å¼è¿”å›ç°åœ¨å’Œ2å°æ—¶ä¹‹å‰CPUæ¸©åº¦çš„å·®å¼‚ï¼š
delta(cpu_temp_celsius{host=&#34;zeus&#34;}[2h])
</code></pre></td></tr></table></div></div><h2 id=idelta>idelta()</h2><p><br><code>idelta(v range-vector)</code>è®¡ç®—èŒƒå›´å‘é‡ v ä¸­æœ€åä¸¤ä¸ªæ ·æœ¬ä¹‹é—´çš„å·®å¼‚ï¼Œè¿”å›å…·æœ‰ç»™å®šå¢é‡å’Œç­‰æ•ˆæ ‡ç­¾çš„å³æ—¶å‘é‡ã€‚<code>idelta</code>åªèƒ½ç”¨äºä»ªè¡¨ã€‚</br></p><h2 id=deriv>deriv()</h2><p><br><code>deriv(v range-vector)</code>å‡½æ•°ï¼Œè®¡ç®—ä¸€ä¸ªèŒƒå›´å‘é‡ v ä¸­å„ä¸ªæ—¶é—´åºåˆ—äºŒé˜¶å¯¼æ•°ï¼Œä½¿ç”¨ç®€å•çº¿æ€§å›å½’,<code>deriv</code>åº”ä»…ç”¨äºä»ªè¡¨ã€‚</br></p><h2 id=floor>floor()</h2><p><br><code>floor(v instant-vector)</code>å°† v ä¸­æ‰€æœ‰å…ƒç´ çš„æ ·æœ¬å€¼èˆå…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°ã€‚</br></p><h2 id=histogram_quantile>histogram_quantile()</h2><p><br><code>histogram_quatile(Ï† float, b instant-vector)</code> è®¡ç®— b å‘é‡çš„ Ï†-ç›´æ–¹å›¾ (0 â‰¤ Ï† â‰¤ 1) ã€‚ï¼ˆæœ‰å…³ Ï†-åˆ†ä½æ•°çš„è¯¦ç»†è§£é‡Šå’Œç›´æ–¹å›¾åº¦é‡ç±»å‹çš„ä½¿ç”¨ï¼Œè¯·å‚è§ç›´æ–¹å›¾å’Œæ‘˜è¦ã€‚ï¼‰b ä¸­çš„æ ·æœ¬æ˜¯æ¯ä¸ªæ¡¶ä¸­çš„è§‚å¯Ÿè®¡æ•°ã€‚ æ¯ä¸ªæ ·æœ¬å¿…é¡»å…·æœ‰æ ‡ç­¾ leï¼Œå…¶ä¸­æ ‡ç­¾å€¼è¡¨ç¤ºæ¡¶çš„åŒ…å«ä¸Šé™ã€‚ ï¼ˆæ²¡æœ‰è¿™ç§æ ‡ç­¾çš„æ ·æœ¬ä¼šè¢«å¿½ç•¥ã€‚ï¼‰ç›´æ–¹å›¾åº¦é‡æ ‡å‡†ç±»å‹è‡ªåŠ¨æä¾›å¸¦æœ‰_bucket åç¼€å’Œç›¸åº”æ ‡ç­¾çš„æ—¶é—´åºåˆ—ã€‚
ä½¿ç”¨ rate()å‡½æ•°æŒ‡å®šåˆ†ä½æ•°è®¡ç®—çš„æ—¶é—´çª—å£ã€‚</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>ç¤ºä¾‹ï¼šç›´æ–¹å›¾åº¦é‡æ ‡å‡†ç§°ä¸º http_request_duration_secondsã€‚ è¦è®¡ç®—è¿‡å» 10m å†…è¯·æ±‚æŒç»­æ—¶é—´çš„ç¬¬ <span class=m>90</span> ä¸ªç™¾åˆ†ä½æ•°ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹è¡¨è¾¾å¼ï¼š
histogram_quantile<span class=o>(</span>0.9, rate<span class=o>(</span>http_request_duration_seconds_bucket<span class=o>[</span>10m<span class=o>]))</span>
åœ¨ http_request_duration_seconds ä¸­ä¸ºæ¯ä¸ªæ ‡ç­¾ç»„åˆè®¡ç®—åˆ†ä½æ•°ã€‚ è¦èšåˆï¼Œè¯·åœ¨ rate<span class=o>()</span>å‡½æ•°å‘¨å›´ä½¿ç”¨ sum<span class=o>()</span>èšåˆå™¨ã€‚ ç”±äº histogram_quantile<span class=o>()</span>éœ€è¦ le æ ‡ç­¾ï¼Œå› æ­¤å¿…é¡»å°†å…¶åŒ…å«åœ¨ by å­å¥ä¸­ã€‚ ä»¥ä¸‹è¡¨è¾¾å¼æŒ‰ä½œä¸šèšåˆç¬¬ <span class=m>90</span> ä¸ªç™¾åˆ†ç‚¹ï¼š
histogram_quantile<span class=o>(</span>0.9, sum<span class=o>(</span>rate<span class=o>(</span>http_request_duration_seconds_bucket<span class=o>[</span>10m<span class=o>]))</span> by <span class=o>(</span>job, le<span class=o>))</span>
è¦èšåˆæ‰€æœ‰å†…å®¹ï¼Œè¯·ä»…æŒ‡å®š le æ ‡ç­¾ï¼š
histogram_quantile<span class=o>(</span>0.9, sum<span class=o>(</span>rate<span class=o>(</span>http_request_duration_seconds_bucket<span class=o>[</span>10m<span class=o>]))</span> by <span class=o>(</span>le<span class=o>))</span>
histogram_quantile<span class=o>()</span>å‡½æ•°é€šè¿‡å‡è®¾æ¡¶å†…çš„çº¿æ€§åˆ†å¸ƒæ¥æ’å€¼åˆ†ä½æ•°å€¼ã€‚ æœ€é«˜æ¡¶å¿…é¡»å…·æœ‰+Inf çš„ä¸Šé™ã€‚ ï¼ˆå¦åˆ™ï¼Œè¿”å› NaNã€‚ï¼‰å¦‚æœåˆ†ä½æ•°ä½äºæœ€é«˜æ¡¶ä¸­ï¼Œåˆ™è¿”å›ç¬¬äºŒä¸ªæœ€é«˜æ¡¶çš„ä¸Šé™ã€‚ å¦‚æœè¯¥æ¡¶çš„ä¸Šé™å¤§äº 0ï¼Œåˆ™å‡è®¾æœ€ä½æ¡¶çš„ä¸‹é™ä¸º 0.åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œåœ¨è¯¥æ¡¶å†…åº”ç”¨é€šå¸¸çš„çº¿æ€§æ’å€¼ã€‚ å¦åˆ™ï¼Œå¯¹äºä½äºæœ€ä½æ¡¶ä¸­çš„åˆ†ä½æ•°ï¼Œè¿”å›æœ€ä½æ¡¶çš„ä¸Šé™ã€‚
å¦‚æœ b åŒ…å«å°‘äºä¸¤ä¸ªæ¡¶ï¼Œåˆ™è¿”å› NaNã€‚ å¯¹äº Ï†&lt;0ï¼Œè¿”å›-Infã€‚ å¯¹äº Ï†&gt; 1ï¼Œè¿”å›+Infã€‚
</code></pre></td></tr></table></div></div><h2 id=holt_winters>holt_winters()</h2><p><br><code>holt_winters(v range-vector, sf scalar, tf scalar)</code>æ ¹æ® v ä¸­çš„èŒƒå›´äº§ç”Ÿæ—¶é—´åºåˆ—çš„å¹³æ»‘å€¼ã€‚å¹³æ»‘å› å­ sf è¶Šä½ï¼Œå¯¹æ—§æ•°æ®çš„é‡è¦æ€§è¶Šé«˜ã€‚ è¶‹åŠ¿å› å­ tf è¶Šé«˜ï¼Œåˆ™è€ƒè™‘çš„æ•°æ®è¶‹åŠ¿è¶Šå¤šã€‚ sf å’Œ tf éƒ½å¿…é¡»ä»‹äº 0 å’Œ 1 ä¹‹é—´ã€‚<code>holt_winters</code>åªèƒ½ç”¨äºä»ªè¡¨ã€‚</br></p><h2 id=increase>increase()</h2><p><br><code>increase(v range-vector)</code>è®¡ç®—èŒƒå›´å‘é‡ä¸­æ—¶é—´åºåˆ—çš„å¢åŠ ã€‚ å•è°ƒæ€§ä¸­æ–­ï¼ˆä¾‹å¦‚ç”±äºç›®æ ‡é‡å¯è€Œå¯¼è‡´çš„è®¡æ•°å™¨é‡ç½®ï¼‰ä¼šè‡ªåŠ¨è°ƒæ•´ã€‚ å¢åŠ å¤–æ¨ä»¥è¦†ç›–èŒƒå›´å‘é‡é€‰æ‹©å™¨ä¸­æŒ‡å®šçš„å…¨æ—¶é—´èŒƒå›´ï¼Œå› æ­¤å³ä½¿è®¡æ•°å™¨ä»…ä»¥æ•´æ•°å¢é‡å¢åŠ ï¼Œä¹Ÿå¯ä»¥è·å¾—éæ•´æ•°ç»“æœã€‚</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>ä»¥ä¸‹ç¤ºä¾‹è¡¨è¾¾å¼è¿”å›èŒƒå›´å‘é‡ä¸­æ¯ä¸ªæ—¶é—´ç³»åˆ—åœ¨è¿‡å»5åˆ†é’Ÿå†…æµ‹é‡çš„HTTPè¯·æ±‚æ•°ï¼š
increase<span class=o>(</span>http_requests_total<span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>&#34;api-server&#34;</span><span class=o>}[</span>5m<span class=o>])</span>
increaseåªåº”ä¸countersä¸€èµ·ä½¿ç”¨ã€‚ å®ƒæ˜¯rate<span class=o>(</span>v<span class=o>)</span>çš„è¯­æ³•ç³–ä¹˜ä»¥æŒ‡å®šæ—¶é—´èŒƒå›´çª—å£ä¸‹çš„ç§’æ•°ï¼Œåº”è¯¥ä¸»è¦ç”¨äºäººç±»å¯è¯»æ€§ã€‚ åœ¨è®°å½•è§„åˆ™ä¸­ä½¿ç”¨rateï¼Œä»¥ä¾¿æ¯ç§’ä¸€è‡´åœ°è·Ÿè¸ªå¢é‡ã€‚
</code></pre></td></tr></table></div></div><h2 id=exp>exp()</h2><p><br><code>exp(v instant-vector)</code>è®¡ç®— v ä¸­æ‰€æœ‰å…ƒç´ çš„æŒ‡æ•°å‡½æ•°ã€‚ç‰¹æ®Šæƒ…å†µæ˜¯ï¼š</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>xp<span class=o>(</span>+inf<span class=o>)</span> <span class=o>=</span> +Inf
Exp<span class=o>(</span>NaN<span class=o>)</span> <span class=o>=</span> NaN
</code></pre></td></tr></table></div></div><h2 id=ln>ln()</h2><p><br><code>ln(v instance-vector)</code>è®¡ç®— v ä¸­æ‰€æœ‰å…ƒç´ çš„è‡ªç„¶å¯¹æ•°ã€‚ç‰¹æ®Šæƒ…å†µæ˜¯ï¼š</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>ln<span class=o>(</span>+Inf<span class=o>)</span> <span class=o>=</span> +Inf
ln<span class=o>(</span>0<span class=o>)</span> <span class=o>=</span> -Inf
ln<span class=o>(</span>x&lt;0<span class=o>)</span> <span class=o>=</span> NaN
ln<span class=o>(</span>NaN<span class=o>)</span> <span class=o>=</span> NaN
</code></pre></td></tr></table></div></div><h2 id=log2>log2()</h2><p><br><code>log2(v instant-vector)</code>è®¡ç®— v ä¸­æ‰€æœ‰å…ƒç´ çš„äºŒè¿›åˆ¶å¯¹æ•°ã€‚ç‰¹æ®Šæƒ…å†µç­‰åŒäº ln ä¸­çš„ç‰¹æ®Šæƒ…å†µã€‚</br></p><h2 id=log10>log10()</h2><p><br><code>log10(v instant-vector)</code>è®¡ç®— v ä¸­æ‰€æœ‰å…ƒç´ çš„ 10 è¿›åˆ¶å¯¹æ•°ã€‚ç‰¹æ®Šæƒ…å†µç­‰åŒäº ln ä¸­çš„ç‰¹æ®Šæƒ…å†µã€‚</br></p><h2 id=sqrt>sqrt()</h2><p><br><code>sqrt(v instant-vector)</code>è®¡ç®— v ä¸­æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹æ ¹ã€‚</br></p><h2 id=predict_linear>predict_linear()</h2><p><br><code>predict_linear(v range-vector, t scalar)</code>æ ¹æ®èŒƒå›´å‘é‡ v ä½¿ç”¨çº¿æ€§å›å½’é¢„æµ‹ä»ç°åœ¨èµ· t ç§’çš„æ—¶é—´åºåˆ—å€¼ã€‚<code>predict_linear</code>åªåº”ä¸ä»ªè¡¨ä¸€èµ·ä½¿ç”¨ã€‚</br></p><h2 id=rate>rate()</h2><p><br><code>rate(v range-vector)</code>è®¡ç®—èŒƒå›´å‘é‡ä¸­æ—¶é—´åºåˆ—çš„æ¯ç§’å¹³å‡å¢é•¿ç‡ã€‚ å•è°ƒæ€§ä¸­æ–­ï¼ˆä¾‹å¦‚ç”±äºç›®æ ‡é‡å¯è€Œå¯¼è‡´çš„è®¡æ•°å™¨é‡ç½®ï¼‰ä¼šè‡ªåŠ¨è°ƒæ•´ã€‚ æ­¤å¤–ï¼Œè®¡ç®—æ¨æ–­åˆ°æ—¶é—´èŒƒå›´çš„æœ«ç«¯ï¼Œå…è®¸é”™è¿‡åˆ®æ“¦æˆ–åˆ®æ“¦å¾ªç¯ä¸èŒƒå›´çš„æ—¶é—´æ®µçš„ä¸å®Œç¾å¯¹é½ã€‚</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>ä»¥ä¸‹ç¤ºä¾‹è¡¨è¾¾å¼è¿”å›èŒƒå›´å‘é‡ä¸­æ¯ä¸ªæ—¶é—´ç³»åˆ—åœ¨è¿‡å»5åˆ†é’Ÿå†…æµ‹é‡çš„æ¯ç§’HTTPè¯·æ±‚ç‡ï¼š
rate<span class=o>(</span>http_requests_total<span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>&#34;api-server&#34;</span><span class=o>}[</span>5m<span class=o>])</span>
rateåº”ä»…ç”¨äºè®¡æ•°å™¨ã€‚ å®ƒæœ€é€‚ç”¨äºè­¦æŠ¥å’Œç¼“æ…¢ç§»åŠ¨è®¡æ•°å™¨çš„å›¾å½¢ã€‚
æ³¨æ„ï¼Œå½“å°†rate<span class=o>()</span>ä¸èšåˆè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚sum<span class=o>()</span>ï¼‰æˆ–éšæ—¶é—´èšåˆçš„å‡½æ•°ï¼ˆä»»ä½•ä»¥_over_timeç»“å°¾çš„å‡½æ•°ï¼‰ç»„åˆæ—¶ï¼Œå§‹ç»ˆé¦–å…ˆé‡‡ç”¨rate<span class=o>()</span>ï¼Œç„¶åèšåˆã€‚ å¦åˆ™ï¼Œå½“ç›®æ ‡é‡æ–°å¯åŠ¨æ—¶ï¼Œrate<span class=o>()</span>æ— æ³•æ£€æµ‹è®¡æ•°å™¨é‡ç½®ã€‚
</code></pre></td></tr></table></div></div><h2 id=irate>irate()</h2><p><br><code>irate(v range-vector)</code>è®¡ç®—èŒƒå›´å‘é‡ä¸­æ—¶é—´åºåˆ—çš„æ¯ç§’å³æ—¶å¢é•¿ç‡ã€‚ è¿™åŸºäºæœ€åä¸¤ä¸ªæ•°æ®ç‚¹ã€‚ å•è°ƒæ€§ä¸­æ–­ï¼ˆä¾‹å¦‚ç”±äºç›®æ ‡é‡å¯è€Œå¯¼è‡´çš„è®¡æ•°å™¨é‡ç½®ï¼‰ä¼šè‡ªåŠ¨è°ƒæ•´ã€‚</br></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>ä»¥ä¸‹ç¤ºä¾‹è¡¨è¾¾å¼è¿”å›èŒƒå›´å‘é‡ä¸­æ¯ä¸ªæ—¶é—´åºåˆ—çš„ä¸¤ä¸ªæœ€æ–°æ•°æ®ç‚¹çš„æœ€å¤š5åˆ†é’Ÿçš„HTTPè¯·æ±‚çš„æ¯ç§’é€Ÿç‡ï¼š
irate<span class=o>(</span>http_requests_total<span class=o>{</span><span class=nv>job</span><span class=o>=</span><span class=s2>&#34;api-server&#34;</span><span class=o>}[</span>5m<span class=o>])</span>
åªåº”åœ¨ç»˜åˆ¶æ˜“å¤±æ€§å¿«é€Ÿç§»åŠ¨è®¡æ•°å™¨æ—¶ä½¿ç”¨irateã€‚ è­¦æŠ¥å’Œç¼“æ…¢ç§»åŠ¨è®¡æ•°å™¨çš„ä½¿ç”¨ç‡ï¼Œå› ä¸ºé€Ÿç‡çš„ç®€çŸ­æ›´æ”¹å¯ä»¥é‡ç½®FORå­å¥ï¼Œå¹¶ä¸”éš¾ä»¥é˜…è¯»å®Œå…¨ç”±ç¨€æœ‰å³°å€¼ç»„æˆçš„å›¾å½¢ã€‚
æ³¨æ„ï¼Œå½“å°†irate<span class=o>()</span>ä¸èšåˆè¿ç®—ç¬¦ï¼ˆä¾‹å¦‚sum<span class=o>()</span>ï¼‰æˆ–éšæ—¶é—´èšåˆçš„å‡½æ•°ï¼ˆä»»ä½•ä»¥_over_timeç»“å°¾çš„å‡½æ•°ï¼‰ç»„åˆæ—¶ï¼Œè¯·å§‹ç»ˆé¦–å…ˆé‡‡ç”¨irate<span class=o>()</span>ï¼Œç„¶åè¿›è¡Œèšåˆã€‚ å¦åˆ™ï¼Œå½“ç›®æ ‡é‡æ–°å¯åŠ¨æ—¶ï¼Œirate<span class=o>()</span>æ— æ³•æ£€æµ‹è®¡æ•°å™¨é‡ç½®ã€‚
</code></pre></td></tr></table></div></div><h2 id=resets>resets()</h2><p><br>å¯¹äºæ¯ä¸ªæ—¶åºæ•°æ®ï¼Œ<code>resets()</code>åœ¨æ‰€æä¾›çš„æ—¶é—´èŒƒå›´å†…è¿”å›è®¡æ•°å™¨é‡ç½®æ¬¡æ•°ä½œä¸ºå³æ—¶å‘é‡ã€‚ ä¸¤ä¸ªè¿ç»­æ ·æœ¬ä¹‹é—´çš„å€¼çš„ä»»ä½•å‡å°‘éƒ½è¢«è§£é‡Šä¸ºè®¡æ•°å™¨é‡ç½®ã€‚ <code>resets()</code>åªåº”ä¸è®¡æ•°å™¨ä¸€èµ·ä½¿ç”¨ã€‚</br></p><h2 id=round>round()</h2><p><br><code>round(v instant-vector, to_nearest 1= scalar)</code>å°† v ä¸­æ‰€æœ‰å…ƒç´ çš„æ ·æœ¬å€¼èˆå…¥ä¸ºæœ€æ¥è¿‘çš„æ•´æ•°ã€‚ é€šè¿‡å››èˆäº”å…¥è§£å†³å…³ç³»ã€‚ å¯é€‰çš„ to_nearest å‚æ•°å…è®¸æŒ‡å®šæ ·æœ¬å€¼åº”èˆå…¥çš„æœ€è¿‘å€æ•°ã€‚ è¿™ä¸ªå€æ•°ä¹Ÿå¯èƒ½æ˜¯ä¸€ä¸ªåˆ†æ•°ã€‚</br></p><h2 id=scalar>scalar()</h2><p><br>ç»™å®šå•å…ƒç´ è¾“å…¥å‘é‡ï¼Œ<code>scalar(v instant-vector)</code>å°†è¯¥å•ä¸ªå…ƒç´ çš„æ ·æœ¬å€¼ä½œä¸ºæ ‡é‡è¿”å›ã€‚ å¦‚æœè¾“å…¥å‘é‡ä¸å…·æœ‰æ°å¥½ä¸€ä¸ªå…ƒç´ ï¼Œåˆ™ scalar å°†è¿”å› NaN</br></p><h2 id=sort>sort()</h2><p><br><code>sort(v instant-vector)</code>è¿”å›æŒ‰å…¶æ ·æœ¬å€¼æ’åºçš„å‘é‡å…ƒç´ ï¼ŒæŒ‰å‡åºæ’åˆ—ã€‚</br></p><h2 id=sort_desc>sort_desc()</h2><p><br><code>sort(v instant-vector)</code>å’Œ<code>sort()</code>ç›¸åŒï¼Œä½†æŒ‰é™åºæ’åºã€‚</br></p><h2 id=vector>vector()</h2><p><br><code>vector(s scalar)</code>å°†æ ‡é‡ s ä½œä¸ºæ²¡æœ‰æ ‡ç­¾çš„å‘é‡è¿”å›ã€‚</br></p><h2 id=aggregation_over_time><aggregation>_over_time()</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre class=chroma><code class=language-bash data-lang=bash>ä»¥ä¸‹å‡½æ•°å…è®¸èšåˆç»™å®šèŒƒå›´å‘é‡çš„æ¯ä¸ªç³»åˆ—éšæ—¶é—´çš„å˜åŒ–å¹¶è¿”å›å…·æœ‰æ¯ç³»åˆ—èšåˆç»“æœçš„å³æ—¶å‘é‡ï¼š
avg_over_time<span class=o>(</span>range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„å¹³å‡å€¼ã€‚
min_over_time<span class=o>(</span>range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„æœ€å°å€¼ã€‚
max_over_time<span class=o>(</span>range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„æœ€å¤§å€¼ã€‚
sum_over_time<span class=o>(</span>range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„æ±‚å’Œå€¼ã€‚
count_over_time<span class=o>(</span>range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„æ ·æœ¬æ•°æ®ä¸ªæ•°ã€‚
quantile_over_time<span class=o>(</span>scalar, range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„æ ·æœ¬æ•°æ®å€¼åˆ†ä½æ•°ï¼ŒÏ†-quantile <span class=o>(</span><span class=m>0</span> â‰¤ Ï† â‰¤ 1<span class=o>)</span>
stddev_over_time<span class=o>(</span>range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„æ€»ä½“æ ‡å‡†åå·®ã€‚
stdvar_over_time<span class=o>(</span>range-vector<span class=o>)</span>: èŒƒå›´å‘é‡å†…æ¯ä¸ªåº¦é‡æŒ‡æ ‡çš„æ€»ä½“æ ‡å‡†æ–¹å·®ã€‚
è¯·æ³¨æ„ï¼Œå³ä½¿å€¼åœ¨æ•´ä¸ªæ—¶é—´é—´éš”å†…çš„é—´éš”ä¸å‡åŒ€ï¼ŒæŒ‡å®šæ—¶é—´é—´éš”å†…çš„æ‰€æœ‰å€¼åœ¨èšåˆä¸­éƒ½å…·æœ‰ç›¸åŒçš„æƒé‡ã€‚
</code></pre></td></tr></table></div></div></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2020-08-31</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/index.md target=_blank>é˜…è¯»åŸå§‹æ–‡æ¡£</a></span></div><div class=post-info-share><span><a href=javascript:void(0); title="åˆ†äº«åˆ° Twitter" data-sharer=twitter data-url=https://gaojila.github.io/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/ data-title=PromQLå¸¸ç”¨å‡½æ•° data-hashtags=PromQL><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Facebook" data-sharer=facebook data-url=https://gaojila.github.io/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/ data-hashtag=PromQL><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Hacker News" data-sharer=hackernews data-url=https://gaojila.github.io/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/ data-title=PromQLå¸¸ç”¨å‡½æ•°><i class="fab fa-hacker-news fa-fw"></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° Line" data-sharer=line data-url=https://gaojila.github.io/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/ data-title=PromQLå¸¸ç”¨å‡½æ•°><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@2.14.0/icons/line.svg></i></a><a href=javascript:void(0); title="åˆ†äº«åˆ° å¾®åš" data-sharer=weibo data-url=https://gaojila.github.io/promql%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0/ data-title=PromQLå¸¸ç”¨å‡½æ•°><i class="fab fa-weibo fa-fw"></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/promql/>PromQL</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/cka2.kubectl-logs/ class=prev rel=prev title="CKA(2.kubectl logs)"><i class="fas fa-angle-left fa-fw"></i>CKA(2.kubectl logs)</a></div></div><div id=comments><div id=gitalk class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://github.com/gitalk/gitalk></a>Gitalk</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2019 - 2021</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>Gojila</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/gitalk@1.6.2/dist/gitalk.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.37.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/algoliasearch@4.2.0/dist/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/twemoji@13.0.0/dist/twemoji.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.4.0/sharer.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"å¤åˆ¶åˆ°å‰ªè´´æ¿","maxShownLines":10},"comment":{"gitalk":{"admin":["gaojila"],"clientID":"0dc7899f1da0fe0da987","clientSecret":"f303eaf61e27467fa0400202224934bbf78baabe","id":"2020-08-31T11:43:38+08:00","owner":"gaojila","repo":"gaojila.github.io","title":"PromQLå¸¸ç”¨å‡½æ•°"}},"data":{"id-1":" [root@gaojila]# cd ~","id-2":" [root@gaojila]# cd ~"},"search":{"algoliaAppID":"U9QMQ70DKL","algoliaIndex":"gaojila.github.io","algoliaSearchKey":"9c5f0222136bb5161c8e6836edc66b05","highlightTag":"em","maxResultLength":10,"noResultsFound":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","snippetLength":50,"type":"algolia"},"twemoji":true,"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":-1,"speed":50}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>